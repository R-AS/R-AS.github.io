{"componentChunkName":"component---src-templates-preview-jsx","path":"/blogs/typescript","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3 id=\"table-of-contents\">Table of Contents</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(``, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"toc\">\n<ul>\n<li><a href=\"#partial\">Partial</a></li>\n<li><a href=\"#required\">Required</a></li>\n<li><a href=\"#pick\">Pick</a></li>\n<li><a href=\"#exclude\">Exclude</a></li>\n<li><a href=\"#omit\">Omit</a></li>\n</ul>\n</div>\n<hr>\n<p>闲余之时学习 typescript，发现以下几种泛型，记录一下。</p>\n<h3 id=\"partial\">Partial</h3>\n<p>Partial 的作用是将传入的属性变为可选项。</p>\n<p>源码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Partial<T> = {\n  [P in keyof T]?: T[P]\n}`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Partial</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">]?: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n<p>示例：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`interface Foo {\n  name: string\n  age: number\n}\n\ntype B = Partial<Foo>\n\n// 最多只能定义 name 和 age, 这两个属性是可选的\nlet b: B = {\n  name: '1',\n  age: 3,\n}`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Foo</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">B</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Partial</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Foo</span><span class=\"mtk1\">&gt;</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk3\">// 最多只能定义 name 和 age, 这两个属性是可选的</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">b</span><span class=\"mtk1\">: </span><span class=\"mtk10\">B</span><span class=\"mtk1\"> = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;1&#39;</span><span class=\"mtk1\">,</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">3</span><span class=\"mtk1\">,</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n<hr>\n<h3 id=\"required\">Required</h3>\n<p>Required 的作用是将传入的属性变为必选项。</p>\n<p>源码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Required<T> = {\n  [P in keyof T]-?: T[P]\n}`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Required</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">]-?: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n<p>-? 意思就是把 ? 去掉，也就是设置属性为必选项</p>\n<hr>\n<h3 id=\"pick\">Pick</h3>\n<p>Pick 的作用是从 T 中取出一系列 K 的属性</p>\n<p>源码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Pick<T, K extends keyof T> = {\n  [P in K]: T[P]\n}`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Pick</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">K</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk10\">K</span><span class=\"mtk1\">]: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n<p>示例，总结 Partial、Required、Pick</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Partial<T> = {\n  [P in keyof T]?: T[P]\n}\n\ntype Required<T> = {\n  [P in keyof T]-?: T[P]\n}\n\ntype Pick<T, K extends keyof T> = {\n  [P in K]: T[P]\n}\n\ninterface User {\n  age: number\n  name: string\n}\n\ntype PartialUser = Partial<User>  // 等同于 type PartialUser = { age? number; name?:string }\n\ntype PickUser = Pick<User, 'age' | 'number'>  // 等同于 type PickUser = { age number; name:string }`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Partial</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">]?: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Required</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">]-?: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Pick</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">K</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  [</span><span class=\"mtk10\">P</span><span class=\"mtk1\"> </span><span class=\"mtk4\">in</span><span class=\"mtk1\"> </span><span class=\"mtk10\">K</span><span class=\"mtk1\">]: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[</span><span class=\"mtk10\">P</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">User</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">PartialUser</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Partial</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">User</span><span class=\"mtk1\">&gt;  </span><span class=\"mtk3\">// 等同于 type PartialUser = { age? number; name?:string }</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">PickUser</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Pick</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">User</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;age&#39;</span><span class=\"mtk1\"> | </span><span class=\"mtk8\">&#39;number&#39;</span><span class=\"mtk1\">&gt;  </span><span class=\"mtk3\">// 等同于 type PickUser = { age number; name:string }</span></span></code></pre>\n<hr>\n<h3 id=\"exclude\">Exclude</h3>\n<p>Exclude 的作用是用来排除指定项。</p>\n<p>源码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Exclude<T, U> = T extends U ? never : Y`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exclude</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">U</span><span class=\"mtk1\">&gt; = </span><span class=\"mtk10\">T</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk10\">U</span><span class=\"mtk1\"> ? </span><span class=\"mtk10\">never</span><span class=\"mtk1\"> : </span><span class=\"mtk10\">Y</span></span></code></pre>\n<p>以上代码的意思是 如果 T 是 U 的子类型的话，就返回 never，否则返回 Y</p>\n<p>示例：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`const str: Exclude<'a' | '1' | '2', 'a' | 'y' | 'z'> = '1'`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">str</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Exclude</span><span class=\"mtk1\">&lt;</span><span class=\"mtk8\">&#39;a&#39;</span><span class=\"mtk1\"> | </span><span class=\"mtk8\">&#39;1&#39;</span><span class=\"mtk1\"> | </span><span class=\"mtk8\">&#39;2&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;a&#39;</span><span class=\"mtk1\"> | </span><span class=\"mtk8\">&#39;y&#39;</span><span class=\"mtk1\"> | </span><span class=\"mtk8\">&#39;z&#39;</span><span class=\"mtk1\">&gt; = </span><span class=\"mtk8\">&#39;1&#39;</span></span></code></pre>\n<p><img src=\"/blogs/typescript/typescript_2_pic_1.png#pic_center\" alt=\"pic_1\"></p>\n<p>Exclude 就是将前面类型的与后面类型对比，过滤出前面独有的属性</p>\n<hr>\n<h3 id=\"omit\">Omit</h3>\n<p>Omit 的作用是省略指定项。</p>\n<p>源码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Omit = Pick<T, Exclude<keyof T, K>>\ntype Omit<T, K> = Pick<T, Exclude<keyof T, K>>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Omit</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Pick</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Exclude</span><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">K</span><span class=\"mtk1\">&gt;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Omit</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">K</span><span class=\"mtk1\">&gt; = </span><span class=\"mtk10\">Pick</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Exclude</span><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">keyof</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">, </span><span class=\"mtk10\">K</span><span class=\"mtk1\">&gt;&gt;</span></span></code></pre>\n<p>示例：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`interface User {\n  id: number\n  age: number\n  name: string\n}\n\ntype OmitUser = Omit<User, 'id'>  // 等同于 type OmitUser = { age: number; name: string }`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">User</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">id</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">OmitUser</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Omit</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">User</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;id&#39;</span><span class=\"mtk1\">&gt;  </span><span class=\"mtk3\">// 等同于 type OmitUser = { age: number; name: string }</span></span></code></pre>\n<hr>\n<p>最后附上 TS 练习题：\n<a href=\"typescript-exercises.github.io\">typescript-exercises.github.io</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n</style>","fields":{"slug":"/typescript/ts_2/"},"frontmatter":{"title":"Typescript 泛型","date":"2020-10-21","thumbnail":"typescript/index.png"}}},{"node":{"html":"<h3 id=\"目录\">目录</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(``, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"toc\">\n<ul>\n<li><a href=\"#%E7%9B%AE%E5%BD%95\">目录</a></li>\n<li><a href=\"#-object-object-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB\">{}, object, Object 有什么区别</a></li>\n<li><a href=\"#type-alias-%E4%B8%8E-interface-%E7%9A%84%E5%B7%AE%E5%BC%82\">type alias 与 interface 的差异</a></li>\n<li><a href=\"#%E6%B3%9B%E5%9E%8B\">泛型</a></li>\n</ul>\n</div>\n<hr>\n<h3 id=\"-object-object-有什么区别\">{}, object, Object 有什么区别</h3>\n<p>这三种类型表示你的值是<strong>一个没有任何自定义属性</strong>的对象，只从 Object.prototype 继承了基本的方法:</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`let user: object = { name: 'Jelly' }\nuser.toString() // correct\nuser.name // error: Property 'name' does not exist on type 'object'`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\">: </span><span class=\"mtk10\">object</span><span class=\"mtk1\"> = { </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Jelly&#39;</span><span class=\"mtk1\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">user</span><span class=\"mtk1\">.</span><span class=\"mtk11\">toString</span><span class=\"mtk1\">() </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">user</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// error: Property &#39;name&#39; does not exist on type &#39;object&#39;</span></span></code></pre>\n<p>分析以下代码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`let title: {}\ntitle = {}  // correct\ntitle = []  // correct\ntitle = 123 // correct\n\nlet content: object\ncontent = {}  // correct\ncontent = []  // correct\ncontent = 123 // error: Type '123' is not assignable to type 'object'.`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">title</span><span class=\"mtk1\">: {}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">title</span><span class=\"mtk1\"> = {}  </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">title</span><span class=\"mtk1\"> = []  </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">title</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">123</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">content</span><span class=\"mtk1\">: </span><span class=\"mtk10\">object</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">content</span><span class=\"mtk1\"> = {}  </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">content</span><span class=\"mtk1\"> = []  </span><span class=\"mtk3\">// correct</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">content</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">123</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// error: Type &#39;123&#39; is not assignable to type &#39;object&#39;.</span></span></code></pre>\n<p><strong>如果一个变量的值是 object 类型，那么它可以是任何非原始类型值</strong></p>\n<p><strong>{}类型不仅包含非原始类型，还包含除 null | undefined 之外的其他原始类型</strong></p>\n<p>(Object 与 {} 基本一致)</p>\n<p>原始类型:</p>\n<ul>\n<li>string</li>\n<li>boolean</li>\n<li>number</li>\n<li>bigint</li>\n<li>symbol</li>\n<li>null</li>\n<li>undefined</li>\n</ul>\n<hr>\n<h3 id=\"type-alias-与-interface-的差异\">type alias 与 interface 的差异</h3>\n<ol>\n<li>同一个作用域中同名的 interface 会合并声明, 相反 type alias 则会报错</li>\n<li>type alias 的右值可以是任何类型, 包括原始类型和类型表达式</li>\n<li>interface 可以继承其他 shape 类型(非原始类型 object)</li>\n</ol>\n<hr>\n<h3 id=\"泛型\">泛型</h3>\n<p>观察以下代码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Arrayify = <T>(data: T) => T[] // 1\ntype Arrayify<T> = (data: T) => T[] // 2`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Arrayify</span><span class=\"mtk1\"> = &lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[] </span><span class=\"mtk3\">// 1</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Arrayify</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = (</span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[] </span><span class=\"mtk3\">// 2</span></span></code></pre>\n<p>1 和 2 实际上泛型覆盖的作用域不同(<strong>简单的说,泛型定义的位置决定了他涵盖的作用域</strong>)\n例如下面的例子就一目了然了</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`type Arrayify = {\n  <T>(data: T): T[]\n  customProp: string\n}\ntype Arrayify<T> = {\n  (data: T): T[]\n  customProp: T\n}`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"typescript\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Arrayify</span><span class=\"mtk1\"> = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">): </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">customProp</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Arrayify</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  (</span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">): </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk12\">customProp</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n</style>","fields":{"slug":"/typescript/ts_1/"},"frontmatter":{"title":"Typrscript 记录","date":"2020-01-10","thumbnail":"typescript/index.png"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"base":"/typescript/"}}}