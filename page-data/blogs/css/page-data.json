{"componentChunkName":"component---src-templates-preview-jsx","path":"/blogs/css","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<hr>\n<p>今天逛 B 站的时候发现列表页视频缩略图有一个效果，如下：</p>\n<p><img src=\"/blogs/css/css_3_pic_1.gif#pic_center\" alt=\"pic_1\"></p>\n<p>光标在悬浮滑动的同时会显示每一帧的页面，<strong>其实实现原理很简单，只是通过计算鼠标偏移量来计算出图片应该移动至哪个位置，</strong>\n而且并不是渲染每一帧的页面，而只是给出大致的缩略图 <img class=\"emoji-icon\" alt=\"emoji-point_down\" data-icon=\"emoji-point_down\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-point_down\" />，拼接成一张图，达到这效果</p>\n<p><img src=\"/blogs/css/css_3_pic_3.png#pic_center\" alt=\"pic_3\"></p>\n<p>废话不多说，直接上代码：</p>\n<p><strong>HTML</strong></p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div class=&quot;avatar-wrapper&quot;>\n  <div class=&quot;pic&quot;>\n    <div class=&quot;lazy-img&quot;>\n      <img\n          src=&quot;./bg-single.png&quot;>\n    </div>\n    <i class=&quot;icon medal &quot;></i>\n    <div class=&quot;cpm show&quot;>\n      <div class=&quot;cover&quot;></div>\n      <div class=&quot;progress-bar&quot;><span style=&quot;width: 10%;&quot;></span></div>\n    </div>\n    <div class=&quot;mask-video&quot;></div>\n  </div>\n</div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"html\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;avatar-wrapper&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;pic&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;lazy-img&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">img</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">          </span><span class=\"mtk12\">src</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;./bg-single.png&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">i</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;icon medal &quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">i</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;cpm show&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;cover&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;progress-bar&quot;</span><span class=\"mtk17\">&gt;&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">style</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;width: 10%;&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;mask-video&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></code></pre>\n<p><strong>JS</strong></p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`var data = {\n  &quot;len_x&quot;: 20,  // 图片一行的张数\n  &quot;width&quot;: 203, // 图片展示单张宽度\n  &quot;height&quot;: 360, // 图片展示单张高度\n};\n\n\\$(&quot;.pic&quot;).mousemove(function (event) {\n  var t = event.offsetX; // 鼠标偏移量\n  this.width = 203;\n  this.height = 360;\n\n  var a = 83;  // 图片总数\n  var e = data.height / data.width * this.width;\n  this.progress = Math.floor(t / this.width * 100) // 进度\n  this.size = this.width * data.len_x;  // 横轴图片长度\n  var i = Math.floor(t / this.width * a); // 在 83 张图片中的偏移量\n  this.x = -i % data.len_x * this.width;  // 水平坐标\n  this.y = -Math.floor(i / data.len_x) * e; // 纵轴坐标\n\n  var self = this;\n\n  \\$('.cover').css({\n    backgroundImage: &quot;url(./bg-mult.png)&quot;,\n    backgroundPosition: self.x + &quot;px &quot; + self.y + &quot;px&quot;,\n    backgroundSize: self.size + &quot;px&quot;\n  })\n\n  \\$('.progress-bar span').css({\n    width: self.progress + &quot;%&quot;\n  })\n});`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">data</span><span class=\"mtk1\"> = {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;len_x&quot;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">20</span><span class=\"mtk1\">,  </span><span class=\"mtk3\">// 图片一行的张数</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;width&quot;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">203</span><span class=\"mtk1\">, </span><span class=\"mtk3\">// 图片展示单张宽度</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;height&quot;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">360</span><span class=\"mtk1\">, </span><span class=\"mtk3\">// 图片展示单张高度</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">};</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;.pic&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">mousemove</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">event</span><span class=\"mtk1\">) {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">t</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">event</span><span class=\"mtk1\">.</span><span class=\"mtk12\">offsetX</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// 鼠标偏移量</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">203</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">height</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">360</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">a</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">83</span><span class=\"mtk1\">;  </span><span class=\"mtk3\">// 图片总数</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">height</span><span class=\"mtk1\"> / </span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\"> * </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">progress</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Math</span><span class=\"mtk1\">.</span><span class=\"mtk11\">floor</span><span class=\"mtk1\">(</span><span class=\"mtk12\">t</span><span class=\"mtk1\"> / </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\"> * </span><span class=\"mtk7\">100</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// 进度</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">size</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\"> * </span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">len_x</span><span class=\"mtk1\">;  </span><span class=\"mtk3\">// 横轴图片长度</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">i</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Math</span><span class=\"mtk1\">.</span><span class=\"mtk11\">floor</span><span class=\"mtk1\">(</span><span class=\"mtk12\">t</span><span class=\"mtk1\"> / </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\"> * </span><span class=\"mtk12\">a</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 在 83 张图片中的偏移量</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">x</span><span class=\"mtk1\"> = -</span><span class=\"mtk12\">i</span><span class=\"mtk1\"> % </span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">len_x</span><span class=\"mtk1\"> * </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">width</span><span class=\"mtk1\">;  </span><span class=\"mtk3\">// 水平坐标</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">y</span><span class=\"mtk1\"> = -</span><span class=\"mtk10\">Math</span><span class=\"mtk1\">.</span><span class=\"mtk11\">floor</span><span class=\"mtk1\">(</span><span class=\"mtk12\">i</span><span class=\"mtk1\"> / </span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">len_x</span><span class=\"mtk1\">) * </span><span class=\"mtk12\">e</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// 纵轴坐标</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">self</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">this</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;.cover&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">css</span><span class=\"mtk1\">({</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk12\">backgroundImage:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;url(./bg-mult.png)&quot;</span><span class=\"mtk1\">,</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk12\">backgroundPosition:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">x</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot;px &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">y</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot;px&quot;</span><span class=\"mtk1\">,</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk12\">backgroundSize:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">size</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot;px&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  })</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;.progress-bar span&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">css</span><span class=\"mtk1\">({</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk12\">width:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">progress</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot;%&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  })</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">});</span></span></code></pre>\n<p><strong>最终效果</strong></p>\n<p><img src=\"/blogs/css/css_3_pic_2.gif#pic_center\" alt=\"pic_2\"></p>\n<hr>\n<p><strong>参考自： <a href=\"https://juejin.im/post/5ced4d90e51d457755550851\">https://juejin.im/post/5ced4d90e51d457755550851</a></strong></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n</style>","fields":{"slug":"/css/css_3/"},"frontmatter":{"title":"B站列表页视频缩略图实现","date":"2020-06-21","thumbnail":"css/index.png"}}},{"node":{"html":"<h3 id=\"table-of-contents\">Table of Contents</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\\\\\`\\\\\\\\\\\\`, \\\\\\\\\\\\`\\\\\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\\\\\`, \\\\\\\\\\`\\\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\\\`, \\\\\\\\`\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\`, \\\\\\`\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\`, \\\\`\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\\\`\\\\\\\\\\`, \\\\\\\\\\`\\\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\\\`, \\\\\\\\`\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\`, \\\\\\`\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\`, \\\\`\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\\\`\\\\\\\\`, \\\\\\\\`\\\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\\\`, \\\\\\`\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\`, \\\\`\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\\\`\\\\\\`, \\\\\\`\\\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\\\`, \\\\`\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\\\`\\\\`, \\\\`\\\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div\n              class=&quot;gatsby-code-button-container&quot;\n              data-toaster-id=&quot;&quot;\n              data-toaster-class=&quot;gatsby-code-button-toaster&quot;\n              data-toaster-text-class=&quot;gatsby-code-button-toaster-text&quot;\n              data-toaster-text=&quot;&quot;\n              data-toaster-duration=&quot;3500&quot;\n              onClick=&quot;copyToClipboard(\\`\\`, \\`\\`)&quot;\n            >\n              <div\n                class=&quot;gatsby-code-button&quot;\n                data-tooltip=&quot;&quot;\n              >\n                <svg class=&quot;gatsby-code-button-icon&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;><path fill=&quot;none&quot; d=&quot;M0 0h24v24H0V0z&quot;/><path d=&quot;M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z&quot;/></svg>\n              </div>\n            </div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(``, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"toc\">\n<ul>\n<li><a href=\"#%E4%B8%A4%E5%88%97%E5%B8%83%E5%B1%80\">两列布局</a></li>\n<li><a href=\"#%E4%B8%89%E5%88%97%E5%B8%83%E5%B1%80\">三列布局</a></li>\n</ul>\n</div>\n<hr>\n<h2 id=\"两列布局\">两列布局</h2>\n<p>如图， 实现一个两列布局，左边固定右边自适应\n<img src=\"/blogs/css/css_2_pic_1.png#pic_center\" alt=\"pic_1\"></p>\n<p>HTML 结构:</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div class=&quot;container&quot;>\n  <div class=&quot;left&quot; />\n  <div class=&quot;right&quot; />\n</div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div class=&quot;container&quot;>\n  <div class=&quot;left&quot; />\n  <div class=&quot;right&quot; />\n</div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"html\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;container&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;left&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk14\">/</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;right&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk14\">/</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></code></pre>\n<ol>\n<li>\n<p>普通写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">float</span><span class=\"mtk1\">: </span><span class=\"mtk8\">left</span><span class=\"mtk1\">;  </span><span class=\"mtk3\">/* 或者 position： absolute */</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">red</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">margin-left</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">blue</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n<li>\n<p>table 写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.container</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">100%</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table-cell</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">red</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table-cell</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">blue</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n<li>\n<p>flex 写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.container</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">flex</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">flex</span><span class=\"mtk1\">: </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;         </span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">brown</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n</ol>\n<h2 id=\"三列布局\">三列布局</h2>\n<p>如图， 实现一个三列布局， 左右固定中间自适应\n<img src=\"/blogs/css/css_2_pic_2.png#pic_center\" alt=\"pic_1\"></p>\n<p>HTML 结构:</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div class=&quot;container&quot;>\n  <div class=&quot;left&quot;></div>\n  <div class=&quot;main&quot;></div>\n  <div class=&quot;right&quot;></div>\n</div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div class=&quot;container&quot;>\n  <div class=&quot;left&quot;></div>\n  <div class=&quot;main&quot;></div>\n  <div class=&quot;right&quot;></div>\n</div>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"html\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;container&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;left&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;main&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;right&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></code></pre>\n<ol>\n<li>\n<p>普通写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">position</span><span class=\"mtk1\">: </span><span class=\"mtk8\">absolute</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">left</span><span class=\"mtk1\">:</span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">top</span><span class=\"mtk1\">:</span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.main</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">margin-left</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">margin-right</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">brown</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">position</span><span class=\"mtk1\">: </span><span class=\"mtk8\">absolute</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">right</span><span class=\"mtk1\">:</span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">top</span><span class=\"mtk1\">:</span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n<li>\n<p>table 写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.container</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">100%</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table-cell</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.main</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table-cell</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">brown</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">table-cell</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n<li>\n<p>flex 写法</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"css\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk6\">.container</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">flex</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.left</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.main</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">flex</span><span class=\"mtk1\">:</span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">brown</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk6\">.right</span><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">150px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">600px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk12\">background-color</span><span class=\"mtk1\">: </span><span class=\"mtk8\">black</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">}</span></span></code></pre>\n</li>\n</ol>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk14 { color: #F44747; }\n  .dark-default-dark .mtk6 { color: #D7BA7D; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n</style>","fields":{"slug":"/css/css_2/"},"frontmatter":{"title":"两列布局与三列布局","date":"2020-06-17","thumbnail":"css/index.png"}}},{"node":{"html":"<p><strong>最近在做弹窗的时候设计要求弹窗主图可自适应缩放，滚动时图片不要离开视窗区域，且当图片高度超出屏幕时滚动可展示剩余图片部分</strong>\n<strong>总的来说就是关于吸顶和吸底的问题，然后看似简单，做起来的时候却反而想复杂了...</strong></p>\n<p>以下是 demo 的效果， 右边是搭配商品， 左边是搭配主图</p>\n<p>页面初始状态：\n<img src=\"/blogs/css/css_1_pic_1.png#pic_center\" alt=\"pic_1\"></p>\n<p>当图片高度小于视窗高度时，滚动吸顶\n<img src=\"/blogs/css/css_1_pic_2.png#pic_center\" alt=\"pic_2\"></p>\n<p>当图片高度大于视窗高度时，滚动展示图片剩余部分，展示完吸底\n<img src=\"/blogs/css/css_1_pic_3.png#pic_center\" alt=\"pic_3\"></p>\n<p>一开始想复杂了，把主图放到一个可滚动容器，然后先静止滚动，全局滚动时允许图片容器滚动，当时呈现出来的滚动效果不太好，且会存在浏览器兼容的问题。</p>\n<p>再之，同事建议我滚动的时候让图片 translateY，这样来达到吸顶的效果，但这样不能展示图片剩余部分，且在一个 overflow: scroll 的容器里让图片 translateY， 有可能会遇到图片高度大于视窗时，overflow 容器一直有图片移除，导致容器一直可滚动。最麻烦的是，测试最后发现在 mac chrome 上 使用滚动值传递给 translateY 会出现抖动的效果，这可能和 mac 触摸板的滚动频率有关。</p>\n<p>其实一开始可以使用给主图部分加个绝对定位的，但由于还需要图片自适应，所以就使用了 flex 布局， 绝对定位会脱离文档流，这样自适应就没办法了，最后弃用了 flex <strong>（开发前必须想清楚技术方案，即使是优先级很低的功能，路线走错后带给你的将会是加班...）</strong></p>\n<p><strong>那接下来谈谈我的解决方案：</strong>\n主图部分 fixed, 并且相对右边列表 right, 即可自适应</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<html>\n  <head>\n    <style>\n      .content {\n        padding: 40px 20px;\n      }\n      .content-img-wrap {\n        display: block;\n        position: fixed;\n        right: 45%;\n      }\n      .content-img {\n        display: block;\n        width: 100%;\n        max-width: 800px;\n      }\n      .content-list {\n        display: flex;\n        margin-left: 54%;\n        width: 582px;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n      .list-item {\n        margin: 10px;\n        width: 250px;\n        height: 300px;\n        border: 1px solid;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=&quot;container&quot;>\n      <div class=&quot;close&quot;>X</div>\n      <div>\n        <div class=&quot;content&quot;>\n          <div class=&quot;content-img-wrap&quot;>\n            <img class=&quot;content-img&quot; src=&quot;./timg.jpeg&quot; alt=&quot;&quot; />\n          </div>\n          <div class=&quot;content-list&quot;>\n            <div class=&quot;list-item&quot;></div>\n            <div class=&quot;list-item&quot;></div>\n            <div class=&quot;list-item&quot;></div>\n            <div class=&quot;list-item&quot;></div>\n            <div class=&quot;list-item&quot;></div>\n            <div class=&quot;list-item&quot;></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"html\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">html</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">head</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">style</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk6\">.content</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">padding</span><span class=\"mtk1\">: </span><span class=\"mtk7\">40px</span><span class=\"mtk1\"> </span><span class=\"mtk7\">20px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk6\">.content-img-wrap</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">block</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">position</span><span class=\"mtk1\">: </span><span class=\"mtk8\">fixed</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">right</span><span class=\"mtk1\">: </span><span class=\"mtk7\">45%</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk6\">.content-img</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">block</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">100%</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">max-width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">800px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk6\">.content-list</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">display</span><span class=\"mtk1\">: </span><span class=\"mtk8\">flex</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">margin-left</span><span class=\"mtk1\">: </span><span class=\"mtk7\">54%</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">582px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">justify-content</span><span class=\"mtk1\">: </span><span class=\"mtk8\">center</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">flex-wrap</span><span class=\"mtk1\">: </span><span class=\"mtk8\">wrap</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk6\">.list-item</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">margin</span><span class=\"mtk1\">: </span><span class=\"mtk7\">10px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">width</span><span class=\"mtk1\">: </span><span class=\"mtk7\">250px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">height</span><span class=\"mtk1\">: </span><span class=\"mtk7\">300px</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">border</span><span class=\"mtk1\">: </span><span class=\"mtk7\">1px</span><span class=\"mtk1\"> </span><span class=\"mtk8\">solid</span><span class=\"mtk1\">;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">style</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">head</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">body</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;container&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;close&quot;</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">X</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;content&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">          </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;content-img-wrap&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">img</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;content-img&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">src</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;./timg.jpeg&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">alt</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">          </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">          </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;content-list&quot;</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">            </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;list-item&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">          </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">body</span><span class=\"mtk17\">&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">html</span><span class=\"mtk17\">&gt;</span></span></code></pre>\n<p><strong>滚动部分通过 js 计算，有两种情况：</strong></p>\n<ol>\n<li>图片高度超过视窗：</li>\n<li>当 滚动值 与 图片与页面顶部距离 的差 &#x3C;= 0 时， top: 0</li>\n<li>当 滚动值 与 图片与页面顶部距离 的差 > 0 时， top: 图片与页面顶部的距离 - 滚动值</li>\n<li>图片高度超过视窗：</li>\n<li>当 滚动值 + 视窗高度 >= 图片高度 时， top: -(图片高度 - 视窗高度)</li>\n<li>当 滚动值 + 视窗高度 &#x3C;= 图片高度 时， top: 图片与页面顶部的距离 - 滚动值</li>\n</ol>\n<p>以下是具体代码：</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`\\$(document).ready(function() {\n  const content = \\$('.content')\n  const imgWrap = \\$('.content-img-wrap')\n\n  const contentPT = (content.css('paddingTop').split('px'))[0]\n  \\$(window).bind('scroll', function() {\n    const imgHeight = imgWrap.height()\n    const viewHeight = \\$(window).height()\n    const scrollTop = \\$(this).scrollTop()\n    const miuns = contentPT - scrollTop\n    // 图片高度超过视窗，展示剩余图片并吸低，若小于视窗高度则吸顶\n    if (imgHeight <= viewHeight) {\n      imgWrap.css('top', miuns < 0 ? 0 : miuns)\n    } else {\n      if (scrollTop + viewHeight >= imgHeight) {\n        imgWrap.css('top', \\`-\\${imgHeight - viewHeight}px\\`)\n      } else {\n        imgWrap.css('top', miuns < 0 ? 0 : miuns)\n      }\n    }\n  })\n})`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk12\">document</span><span class=\"mtk1\">).</span><span class=\"mtk11\">ready</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\">() {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">content</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;.content&#39;</span><span class=\"mtk1\">)</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">imgWrap</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;.content-img-wrap&#39;</span><span class=\"mtk1\">)</span></span>\n<span class=\"grvsc-line\"></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">contentPT</span><span class=\"mtk1\"> = (</span><span class=\"mtk12\">content</span><span class=\"mtk1\">.</span><span class=\"mtk11\">css</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;paddingTop&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">split</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;px&#39;</span><span class=\"mtk1\">))[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">]</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk12\">window</span><span class=\"mtk1\">).</span><span class=\"mtk11\">bind</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;scroll&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">function</span><span class=\"mtk1\">() {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">imgHeight</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">imgWrap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">height</span><span class=\"mtk1\">()</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">viewHeight</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk12\">window</span><span class=\"mtk1\">).</span><span class=\"mtk11\">height</span><span class=\"mtk1\">()</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">scrollTop</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">$</span><span class=\"mtk1\">(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">).</span><span class=\"mtk11\">scrollTop</span><span class=\"mtk1\">()</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">miuns</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">contentPT</span><span class=\"mtk1\"> - </span><span class=\"mtk12\">scrollTop</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 图片高度超过视窗，展示剩余图片并吸低，若小于视窗高度则吸顶</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">imgHeight</span><span class=\"mtk1\"> &lt;= </span><span class=\"mtk12\">viewHeight</span><span class=\"mtk1\">) {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk12\">imgWrap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">css</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;top&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">miuns</span><span class=\"mtk1\"> &lt; </span><span class=\"mtk7\">0</span><span class=\"mtk1\"> ? </span><span class=\"mtk7\">0</span><span class=\"mtk1\"> : </span><span class=\"mtk12\">miuns</span><span class=\"mtk1\">)</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">scrollTop</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">viewHeight</span><span class=\"mtk1\"> &gt;= </span><span class=\"mtk12\">imgHeight</span><span class=\"mtk1\">) {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">imgWrap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">css</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;top&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">`-</span><span class=\"mtk4\">${</span><span class=\"mtk12\">imgHeight</span><span class=\"mtk1\"> - </span><span class=\"mtk12\">viewHeight</span><span class=\"mtk4\">}</span><span class=\"mtk8\">px`</span><span class=\"mtk1\">)</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">        </span><span class=\"mtk12\">imgWrap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">css</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;top&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">miuns</span><span class=\"mtk1\"> &lt; </span><span class=\"mtk7\">0</span><span class=\"mtk1\"> ? </span><span class=\"mtk7\">0</span><span class=\"mtk1\"> : </span><span class=\"mtk12\">miuns</span><span class=\"mtk1\">)</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">      }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  })</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">})</span></span></code></pre>\n<p><strong>结论： 不要把简单的事情复杂化！</strong> </p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk6 { color: #D7BA7D; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n</style>","fields":{"slug":"/css/css_1/"},"frontmatter":{"title":"页面样式记录","date":"2020-06-13","thumbnail":"css/index.png"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"base":"/css/"}}}