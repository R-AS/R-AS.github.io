---
title: 'JavaScript 常用的数据处理方法'
date: '2021-05-19'
thumbnail: 'javascript/index.png'
type: 'javascript'
---
```toc
```
---

在日常开发中，我们难免需要对数据进行筛选，合并等，有时智商掉线的时候会搞到焦头烂额。以下整理几种常见的场景。

### 数组对象 交集、差集、并集

如下代码：
```javascript
const a = [
  {
    'categoryId': 1,
    'categoryIdLevelOne': 750611334,
    'categoryIdLevelThree': 750611336,
    'categoryIdLevelTwo': 750611335,
    'id': 2697,
    'level': 3,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 1
  },
  {
    'categoryId': 2,
    'categoryIdLevelOne': 750611472,
    'categoryIdLevelTwo': 750611473,
    'id': 2701,
    'level': 2,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 2
  },
  {
    'categoryId': 3,
    'categoryIdLevelOne': 750611487,
    'categoryIdLevelTwo': 750611488,
    'id': 2702,
    'level': 2,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 1
  }
]
const b = [
  {
    'categoryId': 2,
    'categoryIdLevelOne': 750611334,
    'categoryIdLevelThree': 750611336,
    'categoryIdLevelTwo': 750611335,
    'id': 2697,
    'level': 3,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 1
  },
  {
    'categoryId': 3,
    'categoryIdLevelOne': 750611472,
    'categoryIdLevelTwo': 750611473,
    'id': 2701,
    'level': 2,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 2
  },
  {
    'categoryId': 4,
    'categoryIdLevelOne': 750611487,
    'categoryIdLevelTwo': 750611488,
    'id': 2702,
    'level': 2,
    'shopId': 12430,
    'skipLayoutFlag': false,
    'status': 1
  }
]
```

**交集**
```javascript
const c = a.filter( a => b.some(b => b.categoryId  === a.categoryId))
```

**差集**
```javascript
const d = a.filter(x => b.every(y => y.categoryId !== x.categoryId))
```

**并集**
```javascript
const e = b.filter(y => a.every(x => x.categoryId !== y.categoryId)).concat(a)
```