---
title: 'HTTP与HTTPS'
date: '2022-10-09'
thumbnail: 'web/index.png'
type: 'interview-计算机基础'
---
```toc
```
---
#### HTTP 与 HTTPS 概念
- **HTTP（超文本传输协议）**是一个客户端和服务端请求和应答的标准，用于从 WWW 服务器传输超文本到本地浏览器的超文本传输协议。**简单来说是一种发布和接受 HTML 页面的方法，被用于在 Web 浏览器和网站服务器之间传输信息。**
- **HTTPS（超文本传输安全协议）**是以安全为目标的 HTTP 通道，即 HTTP 下加入 SSL 层进行加密。其作用是建立一个信息安全通道，来确保数据的传输，确保网站的安全性。

---

#### HTTP 与 HTTPS 的区别
- HTTP 明文传输，数据都是未加密的，安全性较差。HTTPS（SSL + HTTP）数据传输过程是加密的，安全性较好。
- HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。
- HTTP 页面响应速度比 HTTPS 快，主要是因为除了使用 TCP 三次握手建立连接之外，HTTPS 还需要进行 ssl 握手。
- HTTPS 比 HTTP 更消耗服务器资源。
- HTTPS 协议需要 ca 证书，费用较高，功能越强大的证书费用越高。

---

#### HTTPS 协议的工作原理
![pic_1](/blogs/interview-计算机基础/web_1_pic_1.png#pic_center)

1. **客户端发起 HTTPS 请求**

用户在浏览器里传入一个 https 网址，然后连接到 server 的 443 端口。

2. **服务器的配置**

HTTPS 协议的服务器有一套数字证书，其实就是一对公钥和私钥（公钥和私钥可以想象成一把钥匙和一个锁头，只是全世界只有你一个人有这把钥匙，你可以把锁头给别人，别人可以用这个锁把重要的东西锁起来，然后发给你，因为只有你一个人有这把钥匙，所以只有你才能看到被这把锁锁起来的东西。）

3. **传送证书**

这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间等等。

4. **客户端解析证书**

这部分工作是由客户端的 TLS 来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等。如果发现异常，则会弹出一个警告框，提示证书存在问题。

如果证书没问题，就会生成一个随机值，然后用证书（公钥）对该随机值进行加密，就好像上面说的，把随机值用锁头锁起来，这样除非有私钥，不然看不到被锁住的内容。

5. **传送加密信息**
这部分传送的是用证书（公钥）加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务器的通信就可以通过这个随机值来进行加密解密了。

6. **服务端解密信息**

服务器用私钥解密后，得到了客户端传过来的随机值（新的私钥），然后把内容通过该值进行对称加密。（所谓的对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务器都知道这个私钥（也就是那个随机值））。

7. **传输加密后的信息**

这部分信息是服务端用私钥加密后的信息，可以在客户端被还原。

8. **客户端解密信息**

客户端之前生成的私钥解密服务端传过来的信息，于是获取了解密后的内容。
